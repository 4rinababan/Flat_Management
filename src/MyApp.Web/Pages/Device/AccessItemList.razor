@typeparam TItem

<div>
    <div class="flex justify-between items-center mb-2">
        <h3 class="font-semibold">@Title</h3>
        <button class="bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700" @onclick="OnAddClicked">
            + Tambah
        </button>
    </div>

    @if (IsLoading)
    {
        <div class="text-gray-400 text-sm">Loading...</div>
    }
    else if (Items == null || !Items.Any())
    {
        <div class="text-gray-400 text-sm">Belum ada data.</div>
    }
    else
    {
        <div class="grid gap-2">
            @foreach (var item in Items)
            {
                <div class="bg-gray-800 rounded-lg px-3 py-2 flex justify-between items-center text-sm">
                    <span>@GetDisplay(item)</span>
                    <div class="flex gap-2">
                        <button class="text-red-500 hover:text-red-700" @onclick="() => OnDeleteClicked.InvokeAsync(item)">
                            <i class="bi bi-trash"></i>
                        </button>

                    </div>
                </div>
            }
        </div>
    }
</div>

@code {
    [Parameter] public string Title { get; set; } = "";
    [Parameter] public IEnumerable<TItem> Items { get; set; }
    [Parameter] public Func<TItem, string> GetDisplay { get; set; }
    [Parameter] public EventCallback OnAddClicked { get; set; }
    [Parameter] public EventCallback<TItem> OnDeleteClicked { get; set; }
    [Parameter] public bool IsLoading { get; set; } = false;
}
